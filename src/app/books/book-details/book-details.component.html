<div *ngIf="book$ | async as book" class="sm-frame sm-container">
  <h2 class="sm-header">Book Details</h2>
  <div class="sm-body pt-2" fxLayout="row" fxLayoutAlign="center" fxLayoutGap="20px">
    <div fxLayout="column" fxLayoutAlign="start center" fxLayoutGap="20px">
      <img [src]="book.image" width="200px" hight="300px" class="mat-elevation-z4">
      <mat-card class="sm-primary">{{ book.status.value }}</mat-card>
    </div>
    <div>
      <h1>{{ book.title }}</h1>
      <div>by {{ book.author }}</div>
      <div fxLayout="row" fxLayoutAlign="space-between start" class="py-2">
        <div fxLayout="row">
          <b class="pr-1"> Rating: </b>
          <sm-rating [rating]="book.rating"></sm-rating>
        </div>
        <div><b>Published:</b> {{ book.published | date }}</div>
        <div> {{ book.numberOfPages }} pages</div>
      </div>
      <div>{{ book.description }}</div>
    </div>
    <div fxFlex="200px">
      <mat-chip-list>
        <ng-container *ngFor="let genre of book.genres">
          <mat-chip color="primary">{{ genre }}</mat-chip>
        </ng-container>
      </mat-chip-list>
    </div>
  </div>

  <div fxLayout="row" fxLayoutAlign="space-around center">
    <button mat-flat-button type="button" color="accent" [routerLink]="['/books/add', book.id]">
      Edit Book
    </button>
    <button mat-flat-button type="button" color="warn">
      Delete Book
    </button>
  </div>
</div>
